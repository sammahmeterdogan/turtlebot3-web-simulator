<!doctype html>
<html>
  <head><meta charset="utf-8"><title>roslibjs test</title></head>
  <body>
    <h3>roslibjs /chatter dinleyici</h3>
    <pre id="log">Bağlanıyor...</pre>
    <script src="https://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
    <script>
      const log = m => document.getElementById('log').textContent += '\\n' + m;
      const ros = new ROSLIB.Ros({ url: 'ws://localhost:9090' });
      ros.on('connection', ()=> log('WS connected'));
      ros.on('error', e=> log('WS error: ' + e));
      ros.on('close', ()=> log('WS closed'));
      const chatter = new ROSLIB.Topic({ ros, name: '/chatter', messageType: 'std_msgs/String' });
      chatter.subscribe(msg => log('> ' + msg.data));
    </script>
  </body>
</html>
